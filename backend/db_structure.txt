model User {
  id                     String             @id @default(uuid())
  face_id                String?            @unique
  email                  String             @unique
  is_verified            Boolean            @default(false)
  user_name              String
  password               String?
  role                   String
  url                    String?
  current_status         Int                @default(1000)
  is_deleted             Boolean            @default(false)
  created_at             DateTime           @default(now())
  updated_at             DateTime           @updatedAt
  last_login             DateTime?
  phone_number           String?
  job_title              String?
  organization_id        String?
  transcription_enabled  Boolean            @default(false)
  transcription_language String             @default("en")
  attendances            Attendance[]
  chats                  Chat[]
  received_messages      DirectMessage[]    @relation("ReceivedMessages")
  sent_messages          DirectMessage[]    @relation("SentMessages")
  documents              Documents[]
  created_meetings       Meetings[]
  notifications          Notification[]
  personal_folders       PersonalFolder[]
  organization           Organization?      @relation(fields: [organization_id], references: [id])
  websocket_sessions     WebSocketSession[]
  attendee_meetings      Meetings[]         @relation("invitee")
  transcriptions         Transcription[]
  refresh_tokens         RefreshToken[]

  @@index([organization_id], map: "User_organization_id_fkey")
}

model Organization {
  id                    String    @id @default(uuid())
  name                  String
  description           String?
  logo_url              String?
  subscription_plan     String    @default("FREE")
  subscription_status   String    @default("ACTIVE")
  subscription_end_date DateTime?
  max_users             Int       @default(10)
  max_storage_gb        Int       @default(1)
  created_at            DateTime  @default(now())
  updated_at            DateTime  @updatedAt
  is_deleted            Boolean   @default(false)
  users                 User[]
}
